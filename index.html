<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‹ä¸€ç«™å»å“ªï¼ŸTravel Randomizer 3D</title>
    <script src="//unpkg.com/globe.gl"></script>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background: #0a0a0a; /* æ›´æ·±çš„èƒŒæ™¯è‰²ï¼Œè®©åœ°çƒæ›´çªå‡º */
            margin: 0;
            color: #fff; /* å…¨å±€æ–‡å­—é¢œè‰²æ”¹ä¸ºç™½è‰² */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* ç¡®ä¿å†…å®¹å‚ç›´å±…ä¸­ */
            height: 100vh; /* å æ»¡æ•´ä¸ªè§†å£é«˜åº¦ */
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡ */
            position: relative; /* æ–¹ä¾¿å­å…ƒç´ ç»å¯¹å®šä½ */
        }
        /* å­˜æ”¾åœ°çƒä»ªçš„å®¹å™¨ï¼Œè®©å®ƒå‡ ä¹å æ»¡æ•´ä¸ªå±å¹• */
        #globeViz {
            width: 100vw; /* å æ»¡å±å¹•å®½åº¦ */
            height: 100vh; /* å æ»¡å±å¹•é«˜åº¦ */
            position: absolute; /* ç»å¯¹å®šä½ï¼Œä½œä¸ºèƒŒæ™¯ */
            top: 0;
            left: 0;
            z-index: 1; /* ç¡®ä¿åœ°çƒä»ªåœ¨åº•å±‚ */
        }
        /* ä¿¡æ¯å±•ç¤ºå’ŒæŒ‰é’®çš„å®¹å™¨ */
        .container {
            background: rgba(0, 0, 0, 0.4); /* è°ƒæ•´ä¸ºæ›´é€æ˜çš„æš—è‰²èƒŒæ™¯ */
            backdrop-filter: blur(8px); /* å¢åŠ æ¨¡ç³Šæ•ˆæœï¼Œè®©å†…å®¹æ›´æ¸…æ™° */
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            text-align: center;
            max-width: 400px; /* é™åˆ¶å®½åº¦ */
            width: 80%;
            z-index: 10; /* ç¡®ä¿æ–‡å­—åœ¨åœ°çƒä»ªä¹‹ä¸Š */
            position: absolute; /* ç»å¯¹å®šä½ */
            top: 50%; /* å‚ç›´å±…ä¸­ */
            left: 50%; /* æ°´å¹³å±…ä¸­ */
            transform: translate(-50%, -50%); /* ç²¾ç¡®å±…ä¸­ */
            color: #fff; /* ç¡®ä¿å®¹å™¨å†…çš„æ–‡å­—æ˜¯ç™½è‰² */
        }
        h1 {
            color: #eee;
            margin-bottom: 15px;
            font-size: 1.8em;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .intro-text {
            color: #ccc;
            margin-bottom: 25px;
        }
        .result-box {
            margin: 25px 0;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .city-name {
            font-size: 2.6em;
            font-weight: bold;
            color: #ffda79; /* äº®çœ¼çš„é‡‘é»„è‰² */
            margin: 0;
            text-shadow: 0 0 10px rgba(255,218,121,0.6); /* å‘å…‰æ•ˆæœ */
            letter-spacing: 1px;
        }
        .country-name {
            font-size: 1.2em;
            color: #bbb;
            margin-top: 8px;
        }
        .desc {
            margin-top: 20px;
            font-size: 0.95em;
            color: #ddd;
            line-height: 1.6;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.5);
            margin-top: 10px;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.7);
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        /* åª’ä½“æŸ¥è¯¢ï¼šé€‚é…å°å±å¹•è®¾å¤‡ï¼ŒæŒ‰é’®å’Œæ–‡å­—æ›´ç´§å‡‘ */
        @media (max-width: 768px) {
            .container {
                padding: 20px 30px;
                max-width: 90%;
            }
            h1 {
                font-size: 1.5em;
            }
            .city-name {
                font-size: 2em;
            }
            .country-name {
                font-size: 1em;
            }
            button {
                padding: 12px 25px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>

<div id="globeViz"></div>

<div class="container">
    <h1>ğŸŒ ä¸‹ä¸€ç«™ï¼Œè½¬åˆ°å“ªï¼Ÿ</h1>
    <p class="intro-text">ç‚¹å‡»æŒ‰é’®ï¼Œåœ°çƒä»ªå¸¦ä½ é£å‘ä¸‹ä¸€ä¸ªå®‰å…¨ç›®çš„åœ°ï¼</p>
    
    <div class="result-box" id="resultArea">
        <p style="color: #ccc;">å‡†å¤‡å¥½èµ·é£äº†å—ï¼Ÿ</p>
    </div>

    <button onclick="flyToRandomCity()">èµ·é£ï¼å‘Šè¯‰æˆ‘ç­”æ¡ˆ</button>
</div>

<script>
    // --- æ•°æ®æº (æ³¨æ„ï¼šå¿…é¡»åŒ…å« lat å’Œ lng åæ ‡) ---
    // è¿™é‡Œæˆ‘å…ˆåˆ—ä¸¾äº†6ä¸ªåˆ†å¸ƒåœ¨ä¸åŒå¤§æ´²çš„åŸå¸‚ä½œä¸ºæ¼”ç¤ºã€‚
    // ä½ ä»¥åæ·»åŠ æ•°æ®æ—¶ï¼Œéœ€è¦å»è°·æ­Œåœ°å›¾æŸ¥ä¸€ä¸‹å®ƒä»¬çš„åæ ‡ã€‚
    const destinations = [
        { city: "äº¬éƒ½", country: "æ—¥æœ¬", lat: 35.0116, lng: 135.7681, desc: "å¤éŸµç¦…æ„ï¼Œå››å­£åˆ†æ˜ï¼Œæ²»å®‰æä½³çš„å¤éƒ½ã€‚" },
        { city: "é›·å…‹é›…æœªå…‹", country: "å†°å²›", lat: 64.1466, lng: -21.9426, desc: "ä¸–ç•Œå°½å¤´çš„å†·é…·ä»™å¢ƒï¼Œæå…¶å®‰å…¨ï¼Œé€‚åˆçœ‹æå…‰ã€‚" },
        { city: "æ–°åŠ å¡", country: "æ–°åŠ å¡", lat: 1.3521, lng: 103.8198, desc: "èŠ±å›­åŸå¸‚ï¼Œå…¨çƒæ²»å®‰å…¸èŒƒï¼Œç¾é£Ÿèšé›†åœ°ã€‚" },
        { city: "æ‚‰å°¼", country: "æ¾³å¤§åˆ©äºš", lat: -33.8688, lng: 151.2093, desc: "æ­Œå‰§é™¢ä¸æµ·æ¸¯å¤§æ¡¥ï¼Œå……æ»¡æ´»åŠ›çš„å›½é™…å¤§éƒ½å¸‚ã€‚" },
        { city: "æ¸©å“¥å", country: "åŠ æ‹¿å¤§", lat: 49.2827, lng: -123.1207, desc: "èƒŒå±±é¢æµ·ï¼Œæ°”å€™å®œäººï¼Œè‡ªç„¶ä¸åŸå¸‚å®Œç¾èåˆã€‚" },
        { city: "å¼€æ™®æ•¦", country: "å—é", lat: -33.9249, lng: 18.4241, desc: "æ¡Œå±±è„šä¸‹çš„ç»ç¾æµ·æ»¨åŸå¸‚ï¼ˆéœ€æ³¨æ„ç‰¹å®šåŒºåŸŸå®‰å…¨ï¼‰ã€‚" }
    ];

    // --- 3D åœ°çƒä»ªåˆå§‹åŒ– ---
    const world = Globe()
      (document.getElementById('globeViz'))
      .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
      .pointColor(() => '#ffda79') // æ ‡è®°ç‚¹çš„é¢œè‰²æ”¹ä¸ºé‡‘é»„è‰²ï¼Œå’Œæ–‡å­—å‘¼åº”
      .pointAltitude(0.1)     
      .pointRadius(0.5)
      .backgroundColor('#00000000'); // è®©åœ°çƒä»ªèƒŒæ™¯å®Œå…¨é€æ˜ï¼Œé€å‡º body çš„èƒŒæ™¯
      
    // è®¾ç½®åˆå§‹è§†è§’ï¼ˆç¨å¾®ç¦»è¿œä¸€ç‚¹çœ‹ï¼‰
    world.pointOfView({ altitude: 2.5 });

    // è‡ªåŠ¨æ—‹è½¬
    world.controls().autoRotate = true;
    world.controls().autoRotateSpeed = 0.5;

    // --- æ ¸å¿ƒåŠŸèƒ½ï¼šç‚¹å‡»æŒ‰é’®é£å‘éšæœºåŸå¸‚ ---
    function flyToRandomCity() {
        const resultArea = document.getElementById('resultArea');
        resultArea.innerHTML = '<p style="color:#ccc;">æ­£åœ¨è®¡ç®—èˆªçº¿ï¼Œå‡†å¤‡èµ·é£...</p>';
        
        world.controls().autoRotate = false; // åœæ­¢è‡ªåŠ¨æ—‹è½¬

        setTimeout(() => {
            const randomIndex = Math.floor(Math.random() * destinations.length);
            const selected = destinations[randomIndex];

            // é£è¡Œåˆ°ç›®æ ‡åœ°ç‚¹
            world.pointOfView(
                { lat: selected.lat, lng: selected.lng, altitude: 1.5 },
                2500 
            );

            // åœ¨ç›®æ ‡ä½ç½®æ’ä¸Šä¸€ä¸ªçº¢ç‚¹æ ‡è®°
            world.pointsData([{lat: selected.lat, lng: selected.lng}]);

            // æ›´æ–°ä¸‹æ–¹çš„æ–‡å­—ä¿¡æ¯
            resultArea.innerHTML = `
                <div class="city-name">${selected.city}</div>
                <div class="country-name">${selected.country}</div>
                <div class="desc">${selected.desc}</div>
            `;
        }, 500);
    }

    // é€‚åº”çª—å£å¤§å°å˜åŒ–
    window.addEventListener('resize', () => {
        world.width(window.innerWidth);
        world.height(window.innerHeight); // åœ°çƒä»ªå æ»¡æ•´ä¸ªçª—å£
    });
    // é¡µé¢åŠ è½½åç«‹å³è§¦å‘ä¸€æ¬¡resizeï¼Œç¡®ä¿åœ°çƒä»ªåˆå§‹å¤§å°æ­£ç¡®
    window.dispatchEvent(new Event('resize'));
</script>

</body>
</html>
